{% extends "layout.html" %}

{% block title %}
    Maintenance
{% endblock %}

{% block main %}
    <h1 class="login_h1">Manage your trips</h1>
    <img style="margin-left: auto; margin-right: auto; display: block;"src="https://mk0theadventuregfnyq.kinstacdn.com/wp-content/uploads/Hiking-Best-Hiking-Boots-for-Wide-Feet-1200x520.jpg" width="55%" border="5px">

    {% if modifies %}
    {% for modify in modifies %}

    <form action="/maintenance" method="post">
        <br>
        <lable style="margin-left:10%">Trip name: </lable>
        <input style="width:40%; margin-left:21px;" autocomplete="off" autofocus name="trip_name" type="text" value="{{modify.trip_name}}">
        <br>
        <lable style="margin-left:10%">Trip length: </lable>
        <input style="width:40%; margin-left:16px;" autocomplete="off" autofocus name="trip_length" type="number" min="1" value="{{modify.trip_length}}">
        <br>
        <lable style="margin-left:10%">Description: </lable>
        <textarea style="width:40%; margin-left:10px;" name="trip_description" rows="10" >{{modify.trip_description}}</textarea>
        <br>
        <lable style="margin-left:10%">Visited: </lable>
        <input style="width:40%; margin-left:41px;" autocomplete="off" autofocus name="trip_visited" type="number" value="{{modify.visited}}">
        <br>
        <lable style="margin-left:10%">Selected: </lable>
        <input style="width:40%; margin-left:30px;" autocomplete="off" autofocus name="trip_selected" type="number" value="{{modify.selected}}">
        <br>
        <input type="hidden" name="original_name" value="{{modify.trip_name}}" />
        <input style="margin-left:37%" type="submit" name="one_modification" value="Modify" />
        <br>
        <input style="margin-left:37%" type="submit" name="one_modification" value="Delete" />
    </form>

    {% endfor %}

    {% else %}
        <p style="margin-left:10%; margin-top:15px;">On this page you can see all your trips. <br>In the first section you will find the trip you have selected to do on the Get Random page.<br>You can modify the fields or deselect it.<br>In the second section you will find all of your uploaded trip. You will find an "Modify" button, to edit the details. <br> In the last section you will find the trips you actually made happen.<br>  </p>

        <h3 style="color:#cc6600; margin-left:15%;">This is your next trip:</h3>
        {% if selects %}
            {% for select in selects %}
                <table style="border: 2px solid #cc6600; width:800px; margin-left:15%;  margin-bottom:5px; table-layout:fixed; ">
                    <tr>
                        <th style="width:100px;">Name</th>
                        <td>{{ select["trip_name"] }}</td>
                    </tr>
                    <tr>
                        <th style="width:100px;">Length</th>
                        <td>{{ select["trip_length"] }}</td>
                    </tr>
                    <tr>
                        <th style="width:100px;">Description</th>
                        <td style="word-wrap:break-word;">{{ select["trip_description"] }}</td>
                    </tr>
                </table>
                <form action="/maintenance" method="post">
                    <input style="margin-left:15%" type="hidden" name="trip_name_to_modify" value="{{select.trip_name}}" />
                    <input style="margin-left:15%" type="submit" name="selected_modification" value ="Modify"></button>
                    <input style="margin-left:5%" type="submit" name="selected_modification" value="Mark as visited"></input>
                </form>
                <br>
            {% endfor %}
        {% else %}
            <p style="margin-left:15%;" >You don't have a trip selected to visit. Navigate to "Get Random" menu.</p>
        {% endif %}

        <h3 style="color:#cc6600; margin-left:15%">These are all your trips:</h3>
        {% if trips %}
            {% for trip in trips %}
                    <table style="border: 2px solid #cc6600; width:800px; margin-left:15%;  margin-bottom:5px; table-layout:fixed; ">
                    <tr>
                        <th style="width:100px;">Name</th>
                        <td>{{ trip["trip_name"] }}</td>
                    </tr>
                    <tr>
                        <th style="width:100px;">Length</th>
                        <td>{{ trip["trip_length"] }}</td>
                    </tr>
                    <tr>
                        <th style="width:100px;">Description</th>
                        <td style="word-wrap:break-word;">{{ trip["trip_description"]}}</td>
                    </tr>
                </table>

                <form action="/maintenance" method="post">
                    <input type="hidden" name="trip_name_to_modify" value="{{trip.trip_name}}" />
                    <input style="margin-left:20%" type="submit" name="poll_modification" value="Modify"></button>
                </form>
                <br>
            {% endfor %}
        {% else %}
            <p style="margin-left:15%;">You don't have a trips in the poll. Navigate to "Upload" menu.</p>
        {% endif %}

        <h3 style="color:#cc6600; margin-left:15%">These are the destinations you have already visited:</h3>
        {% if visits %}
            {% for visit in visits %}
                <table style="border: 2px solid #cc6600; width:800px; margin-left:15%;  margin-bottom:5px; table-layout:fixed; ">
                    <tr>
                        <th style="width:100px;">Name</th>
                        <td>{{ visit["trip_name"] }}</td>
                    </tr>
                    <tr>
                        <th style="width:100px;">Length</th>
                        <td>{{ visit["trip_length"] }}</td>
                    </tr>
                    <tr>
                        <th style="width:100px;">Description</th>
                        <td style="word-wrap:break-word;">{{ visit["trip_description"]}}</td>
                    </tr>
                </table>
                <form action="/maintenance" method="post">
                    <input type="hidden" name="trip_name_to_modify" value="{{visit.trip_name}}" />
                    <input style="margin-left:20%" type="submit" name="visited_modification" value="Modify"></button>
                </form>
                <br>
            {% endfor %}
        {% else %}
            <p style="margin-left:15%;">You don't have any destinations you have visited. If otherwise edit or start going outside..</p>
        {% endif %}

    {% endif %}

{% endblock %}